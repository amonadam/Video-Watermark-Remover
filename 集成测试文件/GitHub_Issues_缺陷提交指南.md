# GitHub Issues ç¼ºé™·æäº¤æŒ‡å—

## ç›®å½•

1. [æ¦‚è¿°](#æ¦‚è¿°)
2. [ç¼ºé™·æäº¤æµç¨‹](#ç¼ºé™·æäº¤æµç¨‹)
3. [ç¼ºé™·æŠ¥å‘Šæ¨¡æ¿](#ç¼ºé™·æŠ¥å‘Šæ¨¡æ¿)
4. [ç¼ºé™·åˆ†ç±»æ ‡å‡†](#ç¼ºé™·åˆ†ç±»æ ‡å‡†)
5. [å®é™…ç¼ºé™·æ¡ˆä¾‹](#å®é™…ç¼ºé™·æ¡ˆä¾‹)
6. [æœ€ä½³å®è·µ](#æœ€ä½³å®è·µ)

---

## æ¦‚è¿°

æœ¬æŒ‡å—è¯¦ç»†è¯´æ˜äº†å¦‚ä½•ä½¿ç”¨ GitHub Issues ç³»ç»Ÿæäº¤å’Œç®¡ç†é¡¹ç›®ç¼ºé™·ã€‚é€šè¿‡è§„èŒƒçš„ç¼ºé™·æäº¤æµç¨‹ï¼Œå¯ä»¥ç¡®ä¿å¼€å‘å›¢é˜Ÿèƒ½å¤Ÿå¿«é€Ÿç†è§£ã€å¤ç°å’Œä¿®å¤é—®é¢˜ã€‚

### ç¼ºé™·æŠ¥å‘Šçš„é‡è¦æ€§

- **æé«˜ä¿®å¤æ•ˆç‡**: æ¸…æ™°çš„æè¿°å¸®åŠ©å¼€å‘è€…å¿«é€Ÿå®šä½é—®é¢˜
- **é¿å…é‡å¤å·¥ä½œ**: æ ‡å‡†åŒ–çš„æ ¼å¼å‡å°‘æ²Ÿé€šæˆæœ¬
- **è´¨é‡è¿½è¸ª**: ç³»ç»ŸåŒ–è®°å½•æ‰€æœ‰å‘ç°çš„é—®é¢˜
- **çŸ¥è¯†ç§¯ç´¯**: å»ºç«‹é¡¹ç›®é—®é¢˜åº“ï¼Œä¾¿äºåç»­å‚è€ƒ

---

## ç¼ºé™·æäº¤æµç¨‹

### æ­¥éª¤1: åˆ›å»º Issue

1. è®¿é—®é¡¹ç›®çš„ GitHub ä»“åº“
2. ç‚¹å‡» **Issues** æ ‡ç­¾é¡µ
3. ç‚¹å‡» **New Issue** æŒ‰é’®
4. é€‰æ‹©åˆé€‚çš„æ¨¡æ¿ï¼ˆBug Reportï¼‰

### æ­¥éª¤2: å¡«å†™ç¼ºé™·ä¿¡æ¯

æŒ‰ç…§æ¨¡æ¿è¦æ±‚å¡«å†™ä»¥ä¸‹ä¿¡æ¯ï¼š
- **æ ‡é¢˜**: ç®€æ´æè¿°é—®é¢˜
- **ç¯å¢ƒä¿¡æ¯**: æ“ä½œç³»ç»Ÿã€Pythonç‰ˆæœ¬ã€ä¾èµ–åº“ç‰ˆæœ¬
- **å¤ç°æ­¥éª¤**: è¯¦ç»†çš„é‡ç°æ­¥éª¤
- **é¢„æœŸç»“æœ**: æœŸæœ›çš„æ­£ç¡®è¡Œä¸º
- **å®é™…ç»“æœ**: å®é™…è§‚å¯Ÿåˆ°çš„é”™è¯¯è¡Œä¸º
- **é™„åŠ ä¿¡æ¯**: æ—¥å¿—ã€æˆªå›¾ã€ä»£ç ç‰‡æ®µç­‰

### æ­¥éª¤3: è®¾ç½®æ ‡ç­¾å’Œä¼˜å…ˆçº§

- **æ ‡ç­¾**: bug, enhancement, documentation, etc.
- **ä¼˜å…ˆçº§**: critical, high, medium, low
- **æ¨¡å—**: æŒ‡å®šå—å½±å“çš„æ¨¡å—

### æ­¥éª¤4: æäº¤å’Œè·Ÿè¸ª

- ç‚¹å‡» **Submit new issue** æäº¤
- é€šè¿‡è¯„è®ºè·Ÿè¸ªä¿®å¤è¿›åº¦
- éªŒè¯ä¿®å¤åå…³é—­ Issue

---

## ç¼ºé™·æŠ¥å‘Šæ¨¡æ¿

### åŸºç¡€æ¨¡æ¿

```markdown
## é—®é¢˜æè¿°
[ç®€è¦æè¿°é‡åˆ°çš„é—®é¢˜]

## ç¯å¢ƒä¿¡æ¯
- æ“ä½œç³»ç»Ÿ: [ä¾‹å¦‚: Windows 10, macOS 12, Ubuntu 20.04]
- Python ç‰ˆæœ¬: [ä¾‹å¦‚: 3.8.10, 3.9.7]
- é¡¹ç›®ç‰ˆæœ¬: [ä¾‹å¦‚: v1.0.0, commit hash]
- ä¾èµ–åº“ç‰ˆæœ¬: [ç›¸å…³åº“çš„ç‰ˆæœ¬ä¿¡æ¯]

## å¤ç°æ­¥éª¤
1. [ç¬¬ä¸€æ­¥æ“ä½œ]
2. [ç¬¬äºŒæ­¥æ“ä½œ]
3. [ç¬¬ä¸‰æ­¥æ“ä½œ]

## é¢„æœŸç»“æœ
[æè¿°æœŸæœ›çš„æ­£ç¡®è¡Œä¸º]

## å®é™…ç»“æœ
[æè¿°å®é™…è§‚å¯Ÿåˆ°çš„é”™è¯¯è¡Œä¸º]
- [é”™è¯¯ä¿¡æ¯]
- [å¼‚å¸¸å †æ ˆ]

## é™„åŠ ä¿¡æ¯
- [æ—¥å¿—æ–‡ä»¶]
- [æˆªå›¾æˆ–å½•å±]
- [ç›¸å…³ä»£ç ç‰‡æ®µ]
- [å…¶ä»–ç›¸å…³ä¿¡æ¯]
```

### è¯¦ç»†æ¨¡æ¿ï¼ˆæ¨èï¼‰

```markdown
## ğŸ› Bug Report

### é—®é¢˜æ ‡é¢˜
[ç®€æ´æ˜ç¡®çš„æ ‡é¢˜ï¼ŒåŒ…å«å…³é”®ä¿¡æ¯]

### é—®é¢˜æè¿°
[è¯¦ç»†æè¿°é—®é¢˜ï¼ŒåŒ…æ‹¬ä½•æ—¶å‘ç”Ÿã€å½±å“èŒƒå›´ç­‰]

### ç¯å¢ƒä¿¡æ¯
| é¡¹ç›® | ç‰ˆæœ¬ |
|------|------|
| æ“ä½œç³»ç»Ÿ | [Windows 10 / macOS 12 / Ubuntu 20.04] |
| Python | [3.8.10] |
| é¡¹ç›®ç‰ˆæœ¬ | [v1.0.0] |
| pytest | [7.1.2] |
| å…¶ä»–ä¾èµ– | [numpy 1.21.0, opencv-python 4.5.3] |

### å¤ç°æ­¥éª¤
```python
# æä¾›å¯å¤ç°çš„æœ€å°ä»£ç ç¤ºä¾‹
def test_example():
    # æ­¥éª¤1: åˆå§‹åŒ–
    detector = WatermarkDetector()
    
    # æ­¥éª¤2: æ‰§è¡Œæ“ä½œ
    result = detector.detect_watermark("test_video.mp4")
    
    # æ­¥éª¤3: éªŒè¯ç»“æœ
    assert result is not None  # è¿™é‡Œä¼šå¤±è´¥
```

### é¢„æœŸç»“æœ
[æè¿°æœŸæœ›çš„æ­£ç¡®è¡Œä¸º]
ä¾‹å¦‚: æ£€æµ‹å™¨åº”è¯¥è¿”å›æ°´å°ä½ç½®ä¿¡æ¯ï¼Œè€Œä¸æ˜¯ None

### å®é™…ç»“æœ
[æè¿°å®é™…è§‚å¯Ÿåˆ°çš„é”™è¯¯è¡Œä¸º]
ä¾‹å¦‚: æ£€æµ‹å™¨è¿”å› Noneï¼Œæ§åˆ¶å°è¾“å‡ºé”™è¯¯ä¿¡æ¯:
```
ERROR:watermark_detector:è§†é¢‘æ–‡ä»¶ä¸å­˜åœ¨: test_video.mp4
```

### é”™è¯¯æ—¥å¿—
```
[ç²˜è´´å®Œæ•´çš„é”™è¯¯å †æ ˆä¿¡æ¯]
Traceback (most recent call last):
  File "test_watermark_detector.py", line 123, in test_detect_watermark
    result = detector.detect_watermark("test_video.mp4")
  File "src/core/watermark_detector.py", line 45, in detect_watermark
    if not os.path.exists(video_path):
AttributeError: 'NoneType' object has no attribute 'exists'
```

### é™„åŠ ä¿¡æ¯
- **æˆªå›¾**: [å¦‚æœé—®é¢˜æ¶‰åŠUIï¼Œæä¾›æˆªå›¾]
- **æ—¥å¿—æ–‡ä»¶**: [é™„ä»¶å½¢å¼æä¾›ç›¸å…³æ—¥å¿—]
- **ç›¸å…³ä»£ç **: [é“¾æ¥åˆ°ç›¸å…³ä»£ç è¡Œ]
- **ç›¸å…³ Issue**: [å¦‚æœä¸å…¶ä»– Issue ç›¸å…³]

### ä¼˜å…ˆçº§
- [ ] Critical (ç³»ç»Ÿå´©æºƒï¼Œæ ¸å¿ƒåŠŸèƒ½ä¸å¯ç”¨)
- [ ] High (ä¸»è¦åŠŸèƒ½å—å½±å“)
- [ ] Medium (æ¬¡è¦åŠŸèƒ½é—®é¢˜)
- [ ] Low (UIå°é—®é¢˜ï¼Œä¸å½±å“åŠŸèƒ½)

### æ¨¡å—
- [ ] WatermarkDetector
- [ ] LamaInpainter
- [ ] VideoProcessor
- [ ] AccessControl
- [ ] OperationLogger
- [ ] å…¶ä»–: [æŒ‡å®šæ¨¡å—]
```

---

## ç¼ºé™·åˆ†ç±»æ ‡å‡†

### æŒ‰ä¸¥é‡ç¨‹åº¦åˆ†ç±»

#### Criticalï¼ˆä¸¥é‡ï¼‰
- ç³»ç»Ÿå´©æºƒæˆ–æ— æ³•å¯åŠ¨
- æ•°æ®ä¸¢å¤±æˆ–æŸå
- å®‰å…¨æ¼æ´
- æ ¸å¿ƒåŠŸèƒ½å®Œå…¨ä¸å¯ç”¨

**ç¤ºä¾‹**: 
```markdown
## ä¸¥é‡ç¼ºé™·ç¤ºä¾‹

### æ ‡é¢˜
[CRITICAL] ç”¨æˆ·è®¤è¯å¤±è´¥å¯¼è‡´ç³»ç»Ÿæ— æ³•è®¿é—®

### é—®é¢˜æè¿°
å½“ç”¨æˆ·å°è¯•ç™»å½•ç³»ç»Ÿæ—¶ï¼Œè®¤è¯æ¨¡å—æŠ›å‡ºå¼‚å¸¸ï¼Œå¯¼è‡´æ•´ä¸ªç³»ç»Ÿæ— æ³•è®¿é—®ã€‚

### å¤ç°æ­¥éª¤
1. å¯åŠ¨ç³»ç»Ÿ
2. å°è¯•ä½¿ç”¨ä»»æ„ç”¨æˆ·åå’Œå¯†ç ç™»å½•
3. ç³»ç»Ÿå´©æºƒ

### é¢„æœŸç»“æœ
ç”¨æˆ·åº”è¯¥èƒ½å¤Ÿä½¿ç”¨æ­£ç¡®çš„å‡­æ®ç™»å½•ç³»ç»Ÿ

### å®é™…ç»“æœ
ç³»ç»ŸæŠ›å‡º AttributeErrorï¼Œæ— æ³•è®¿é—®ä»»ä½•åŠŸèƒ½
```

#### Highï¼ˆé«˜ï¼‰
- ä¸»è¦åŠŸèƒ½ä¸å¯ç”¨
- æ€§èƒ½ä¸¥é‡ä¸‹é™
- æ•°æ®ä¸ä¸€è‡´

**ç¤ºä¾‹**:
```markdown
## é«˜ä¼˜å…ˆçº§ç¼ºé™·ç¤ºä¾‹

### æ ‡é¢˜
[HIGH] æ°´å°æ£€æµ‹å™¨æ— æ³•å¤„ç†é«˜åˆ†è¾¨ç‡è§†é¢‘

### é—®é¢˜æè¿°
å½“å¤„ç†åˆ†è¾¨ç‡è¶…è¿‡ 4K çš„è§†é¢‘æ—¶ï¼Œæ°´å°æ£€æµ‹å™¨æŠ›å‡ºå†…å­˜é”™è¯¯ã€‚

### å¤ç°æ­¥éª¤
1. åŠ è½½ 4K åˆ†è¾¨ç‡è§†é¢‘ (3840x2160)
2. è°ƒç”¨ watermark_detector.detect_watermark()
3. ç³»ç»ŸæŠ›å‡º MemoryError

### é¢„æœŸç»“æœ
æ£€æµ‹å™¨åº”è¯¥èƒ½å¤Ÿå¤„ç†é«˜åˆ†è¾¨ç‡è§†é¢‘ï¼Œæˆ–ç»™å‡ºå‹å¥½çš„é”™è¯¯æç¤º

### å®é™…ç»“æœ
ç¨‹åºå´©æºƒï¼ŒæŠ›å‡º MemoryError
```

#### Mediumï¼ˆä¸­ï¼‰
- æ¬¡è¦åŠŸèƒ½é—®é¢˜
- UI æ˜¾ç¤ºé”™è¯¯
- æ€§èƒ½è½»å¾®ä¸‹é™

**ç¤ºä¾‹**:
```markdown
## ä¸­ä¼˜å…ˆçº§ç¼ºé™·ç¤ºä¾‹

### æ ‡é¢˜
[MEDIUM] æ“ä½œæ—¥å¿—æ˜¾ç¤ºçš„æ—¶é—´æ ¼å¼ä¸ä¸€è‡´

### é—®é¢˜æè¿°
æ“ä½œæ—¥å¿—ä¸­çš„æ—¶é—´æˆ³æ˜¾ç¤ºæ ¼å¼ä¸ç»Ÿä¸€ï¼Œæœ‰çš„æ˜¾ç¤ºä¸º ISO æ ¼å¼ï¼Œæœ‰çš„æ˜¾ç¤ºä¸ºæœ¬åœ°æ—¶é—´ã€‚

### å¤ç°æ­¥éª¤
1. æŸ¥çœ‹æ“ä½œæ—¥å¿—é¡µé¢
2. å¯¹æ¯”ä¸åŒæ“ä½œçš„æ—¶é—´æˆ³

### é¢„æœŸç»“æœ
æ‰€æœ‰æ—¶é—´æˆ³åº”è¯¥ä½¿ç”¨ç»Ÿä¸€çš„æ ¼å¼ï¼ˆä¾‹å¦‚: YYYY-MM-DD HH:MM:SSï¼‰

### å®é™…ç»“æœ
éƒ¨åˆ†æ—¶é—´æˆ³æ˜¾ç¤ºä¸º "2024-01-15T10:30:00Z"ï¼Œéƒ¨åˆ†æ˜¾ç¤ºä¸º "2024/1/15 18:30:00"
```

#### Lowï¼ˆä½ï¼‰
- æ–‡æ¡£é”™è¯¯
- UI å°ç‘•ç–µ
- ä¸å½±å“åŠŸèƒ½çš„å»ºè®®

**ç¤ºä¾‹**:
```markdown
## ä½ä¼˜å…ˆçº§ç¼ºé™·ç¤ºä¾‹

### æ ‡é¢˜
[LOW] README ä¸­çš„ç¤ºä¾‹ä»£ç ç¼ºå°‘å¯¼å…¥è¯­å¥

### é—®é¢˜æè¿°
README æ–‡ä»¶ä¸­çš„ä½¿ç”¨ç¤ºä¾‹ç¼ºå°‘å¿…è¦çš„ import è¯­å¥ï¼Œæ–°æ‰‹ç”¨æˆ·å¯èƒ½ä¸çŸ¥é“éœ€è¦å¯¼å…¥å“ªäº›æ¨¡å—ã€‚

### å¤ç°æ­¥éª¤
1. é˜…è¯» README.md æ–‡ä»¶
2. å°è¯•è¿è¡Œç¤ºä¾‹ä»£ç 

### é¢„æœŸç»“æœ
ç¤ºä¾‹ä»£ç åº”è¯¥å¯ä»¥ç›´æ¥è¿è¡Œï¼Œæˆ–æ˜ç¡®è¯´æ˜éœ€è¦å¯¼å…¥çš„æ¨¡å—

### å®é™…ç»“æœ
è¿è¡Œç¤ºä¾‹ä»£ç æ—¶æç¤º NameError: name 'WatermarkDetector' is not defined
```

### æŒ‰ç±»å‹åˆ†ç±»

#### åŠŸèƒ½ç¼ºé™·
åŠŸèƒ½æœªæŒ‰é¢„æœŸå·¥ä½œ

#### æ€§èƒ½é—®é¢˜
ç³»ç»Ÿå“åº”æ…¢æˆ–èµ„æºå ç”¨é«˜

#### å…¼å®¹æ€§é—®é¢˜
ç‰¹å®šç¯å¢ƒæˆ–é…ç½®ä¸‹å‡ºç°é—®é¢˜

#### å®‰å…¨é—®é¢˜
å­˜åœ¨å®‰å…¨æ¼æ´æˆ–é£é™©

#### æ–‡æ¡£é—®é¢˜
æ–‡æ¡£ä¸å‡†ç¡®æˆ–ç¼ºå¤±

#### UI/UX é—®é¢˜
ç•Œé¢æ˜¾ç¤ºæˆ–ç”¨æˆ·ä½“éªŒé—®é¢˜

---

## å®é™…ç¼ºé™·æ¡ˆä¾‹

ä»¥ä¸‹æ˜¯åœ¨é›†æˆæµ‹è¯•ä¸­å‘ç°å¹¶æäº¤çš„å®é™…ç¼ºé™·æ¡ˆä¾‹ï¼š

### æ¡ˆä¾‹ 1: sanitize_input å‡½æ•°ç§»é™¤ä¸‹åˆ’çº¿

**Issue æ ‡é¢˜**: [BUG] sanitize_input å‡½æ•°ç§»é™¤ä¸‹åˆ’çº¿å¯¼è‡´æ“ä½œæ—¥å¿—è®°å½•é”™è¯¯

**é—®é¢˜æè¿°**:
`sanitize_input` å‡½æ•°åœ¨æ¸…ç†è¾“å…¥æ—¶ç§»é™¤äº†ä¸‹åˆ’çº¿å­—ç¬¦ï¼Œå¯¼è‡´æ“ä½œæ—¥å¿—ä¸­çš„æ“ä½œç±»å‹è¢«é”™è¯¯ä¿®æ”¹ã€‚ä¾‹å¦‚ï¼Œ`test_operation` è¢«ä¿®æ”¹ä¸º `testoperation`ï¼Œè¿™ç ´åäº†æ—¥å¿—æ•°æ®çš„å®Œæ•´æ€§å’Œå¯è¯»æ€§ã€‚

**ç¯å¢ƒä¿¡æ¯**:
| é¡¹ç›® | ç‰ˆæœ¬ |
|------|------|
| æ“ä½œç³»ç»Ÿ | Windows 10 |
| Python | 3.8.10 |
| é¡¹ç›®ç‰ˆæœ¬ | v1.0.0 |

**å¤ç°æ­¥éª¤**:
```python
# 1. åˆå§‹åŒ–æ“ä½œæ—¥å¿—è®°å½•å™¨
logger = OperationLogger("test.db")

# 2. è®°å½•åŒ…å«ä¸‹åˆ’çº¿çš„æ“ä½œç±»å‹
logger.log_operation(
    username="testuser",
    operation_type="video_processing_start",  # åŒ…å«ä¸‹åˆ’çº¿
    operation_result="success"
)

# 3. æŸ¥è¯¢æ—¥å¿—
logs, _ = logger.get_operation_logs(username="testuser")
print(logs[0]["operation_type"])
```

**é¢„æœŸç»“æœ**:
æ“ä½œç±»å‹åº”è¯¥ä¿æŒåŸæ ·ï¼Œè¾“å‡º: `video_processing_start`

**å®é™…ç»“æœ**:
ä¸‹åˆ’çº¿è¢«ç§»é™¤ï¼Œè¾“å‡º: `videoprocessingstart`

**é”™è¯¯æ—¥å¿—**:
```
INFO:operation_logger:è®°å½•æ“ä½œæ—¥å¿—æˆåŠŸ: testuser videoprocessingstart success
```

**é™„åŠ ä¿¡æ¯**:
- **å½±å“èŒƒå›´**: æ‰€æœ‰ä½¿ç”¨ `log_operation` æ–¹æ³•è®°å½•çš„æ“ä½œæ—¥å¿—
- **ç›¸å…³ä»£ç **: [src/core/operation_logger.py#L45](file:///f:/waterremove/src/core/operation_logger.py#L45)
- **ç›¸å…³ä»£ç **: [src/core/security/system_security.py#L23](file:///f:/waterremove/src/core/security/system_security.py#L23)

**ä¿®å¤æ–¹æ¡ˆ**:
ä¿®æ”¹ `operation_logger.py` ä¸­çš„ `log_operation` æ–¹æ³•ï¼Œåœ¨è°ƒç”¨ `sanitize_input` æ—¶æ·»åŠ  `allow_chars="_"` å‚æ•°ã€‚

```python
# ä¿®æ”¹å‰
operation_type = sanitize_input(operation_type)

# ä¿®æ”¹å
operation_type = sanitize_input(operation_type, allow_chars="_")
```

**ä¼˜å…ˆçº§**: High
**æ¨¡å—**: OperationLogger
**çŠ¶æ€**: âœ… å·²ä¿®å¤

---

### æ¡ˆä¾‹ 2: ç”¨æˆ·åå†²çªå¯¼è‡´è®¤è¯å¤±è´¥

**Issue æ ‡é¢˜**: [BUG] æµ‹è¯•ç”¨æˆ·åä¸é»˜è®¤ç”¨æˆ·å†²çªå¯¼è‡´é›†æˆæµ‹è¯•å¤±è´¥

**é—®é¢˜æè¿°**:
åœ¨é›†æˆæµ‹è¯•ä¸­ï¼Œæµ‹è¯•ä»£ç ä½¿ç”¨çš„ç”¨æˆ·åï¼ˆadmin, userï¼‰ä¸æ•°æ®åº“ä¸­çš„é»˜è®¤ç”¨æˆ·å†²çªï¼Œå¯¼è‡´ `add_user` æ–¹æ³•æŠ›å‡º "ç”¨æˆ·å·²å­˜åœ¨" é”™è¯¯ï¼Œæµ‹è¯•æ— æ³•æ­£å¸¸æ‰§è¡Œã€‚

**ç¯å¢ƒä¿¡æ¯**:
| é¡¹ç›® | ç‰ˆæœ¬ |
|------|------|
| æ“ä½œç³»ç»Ÿ | Windows 10 |
| Python | 3.8.10 |
| é¡¹ç›®ç‰ˆæœ¬ | v1.0.0 |

**å¤ç°æ­¥éª¤**:
```python
# 1. åˆå§‹åŒ–è®¿é—®æ§åˆ¶
access_control = AccessController("test.db")

# 2. å°è¯•æ·»åŠ ç”¨æˆ·
access_control.add_user("admin", "adminpass", ["view", "edit", "delete", "admin"])
```

**é¢„æœŸç»“æœ**:
ç”¨æˆ·åº”è¯¥æˆåŠŸæ·»åŠ åˆ°æ•°æ®åº“

**å®é™…ç»“æœ**:
æŠ›å‡º ValueError: "ç”¨æˆ·å·²å­˜åœ¨: admin"

**é”™è¯¯æ—¥å¿—**:
```
ERROR:access_control:æ·»åŠ ç”¨æˆ·å¤±è´¥: ç”¨æˆ·å·²å­˜åœ¨: admin
ValueError: ç”¨æˆ·å·²å­˜åœ¨: admin
```

**é™„åŠ ä¿¡æ¯**:
- **å½±å“èŒƒå›´**: é›†æˆæµ‹è¯•ä¸­çš„ç”¨æˆ·ç®¡ç†æµ‹è¯•
- **ç›¸å…³ä»£ç **: [é›†æˆæµ‹è¯•æ–‡ä»¶/test_integration.py#L45](file:///f:/waterremove/é›†æˆæµ‹è¯•æ–‡ä»¶/test_integration.py#L45)
- **ç›¸å…³ä»£ç **: [src/core/security/access_control.py#L78](file:///f:/waterremove/src/core/security/access_control.py#L78)

**ä¿®å¤æ–¹æ¡ˆ**:
å°†æµ‹è¯•ä»£ç ä¸­çš„ç”¨æˆ·åä¿®æ”¹ä¸ºå”¯ä¸€çš„æµ‹è¯•ç”¨æˆ·åã€‚

```python
# ä¿®æ”¹å‰
access_control.add_user("admin", "adminpass", ["view", "edit", "delete", "admin"])
admin = access_control.authenticate("admin", "adminpass")

# ä¿®æ”¹å
access_control.add_user("testadmin", "adminpass", ["view", "edit", "delete", "admin"])
admin = access_control.authenticate("testadmin", "adminpass")
```

**ä¼˜å…ˆçº§**: Medium
**æ¨¡å—**: AccessControl
**çŠ¶æ€**: âœ… å·²ä¿®å¤

---

### æ¡ˆä¾‹ 3: å½“å‰ç”¨æˆ·ä¸Šä¸‹æ–‡æœªè®¾ç½®

**Issue æ ‡é¢˜**: [BUG] ç”¨æˆ·è®¤è¯åæœªè®¾ç½®å½“å‰ç”¨æˆ·ä¸Šä¸‹æ–‡å¯¼è‡´æƒé™æ£€æŸ¥å¤±è´¥

**é—®é¢˜æè¿°**:
ç”¨æˆ·è®¤è¯æˆåŠŸåï¼Œæ²¡æœ‰è®¾ç½®å½“å‰ç”¨æˆ·ä¸Šä¸‹æ–‡ï¼Œå¯¼è‡´åç»­çš„æƒé™æ£€æŸ¥æ“ä½œæŠ›å‡º "æœªç™»å½•" é”™è¯¯ã€‚è¿™æ˜¯å› ä¸º `check_permission` æ–¹æ³•ä¾èµ–äºå…¨å±€çš„å½“å‰ç”¨æˆ·çŠ¶æ€ã€‚

**ç¯å¢ƒä¿¡æ¯**:
| é¡¹ç›® | ç‰ˆæœ¬ |
|------|------|
| æ“ä½œç³»ç»Ÿ | Windows 10 |
| Python | 3.8.10 |
| é¡¹ç›®ç‰ˆæœ¬ | v1.0.0 |

**å¤ç°æ­¥éª¤**:
```python
# 1. åˆå§‹åŒ–è®¿é—®æ§åˆ¶
access_control = AccessController("test.db")

# 2. æ·»åŠ ç”¨æˆ·
access_control.add_user("testuser", "testpass", ["view"])

# 3. ç”¨æˆ·è®¤è¯
user = access_control.authenticate("testuser", "testpass")
print(user)  # è¾“å‡º: {'username': 'testuser', 'role': 'user', 'permissions': ['view']}

# 4. æ£€æŸ¥æƒé™ï¼ˆæœªè®¾ç½®å½“å‰ç”¨æˆ·ä¸Šä¸‹æ–‡ï¼‰
has_permission = access_control.check_permission("edit")
```

**é¢„æœŸç»“æœ**:
åº”è¯¥è¿”å› Falseï¼ˆç”¨æˆ·æ²¡æœ‰ edit æƒé™ï¼‰

**å®é™…ç»“æœ**:
æŠ›å‡º ValueError: "æœªç™»å½•"

**é”™è¯¯æ—¥å¿—**:
```
ERROR:access_control:æƒé™æ£€æŸ¥å¤±è´¥: æœªç™»å½•
ValueError: æœªç™»å½•
```

**é™„åŠ ä¿¡æ¯**:
- **å½±å“èŒƒå›´**: æ‰€æœ‰éœ€è¦æƒé™æ£€æŸ¥çš„æ“ä½œ
- **ç›¸å…³ä»£ç **: [é›†æˆæµ‹è¯•æ–‡ä»¶/test_integration.py#L123](file:///f:/waterremove/é›†æˆæµ‹è¯•æ–‡ä»¶/test_integration.py#L123)
- **ç›¸å…³ä»£ç **: [src/core/security/access_control.py#L156](file:///f:/waterremove/src/core/security/access_control.py#L156)

**ä¿®å¤æ–¹æ¡ˆ**:
åœ¨ç”¨æˆ·è®¤è¯æˆåŠŸåï¼Œè°ƒç”¨ `set_current_user` æ–¹æ³•è®¾ç½®å½“å‰ç”¨æˆ·ä¸Šä¸‹æ–‡ã€‚

```python
# ç”¨æˆ·è®¤è¯
user = access_control.authenticate("testuser", "testpass")
assert user is not None

# è®¾ç½®å½“å‰ç”¨æˆ·
set_current_user(user)

# ç°åœ¨å¯ä»¥æ£€æŸ¥æƒé™
has_permission = access_control.check_permission("edit")
```

**ä¼˜å…ˆçº§**: High
**æ¨¡å—**: AccessControl
**çŠ¶æ€**: âœ… å·²ä¿®å¤

---

### æ¡ˆä¾‹ 4: æ—¥å¿—æŸ¥è¯¢é¡ºåºä¸é¢„æœŸä¸ç¬¦

**Issue æ ‡é¢˜**: [BUG] æ“ä½œæ—¥å¿—è¿”å›é¡ºåºä¸æ–‡æ¡£æè¿°ä¸ç¬¦

**é—®é¢˜æè¿°**:
æ ¹æ®ä»£ç æ³¨é‡Šï¼Œæ“ä½œæ—¥å¿—åº”è¯¥æŒ‰æ—¶é—´å‡åºæ’åˆ—ï¼ˆæœ€æ—©çš„åœ¨å‰ï¼‰ï¼Œä½†å®é™…è¿”å›çš„æ—¥å¿—æ˜¯æŒ‰æ—¶é—´é™åºæ’åˆ—ï¼ˆæœ€æ–°çš„åœ¨å‰ï¼‰ã€‚è¿™å¯¼è‡´æµ‹è¯•æ–­è¨€å¤±è´¥ã€‚

**ç¯å¢ƒä¿¡æ¯**:
| é¡¹ç›® | ç‰ˆæœ¬ |
|------|------|
| æ“ä½œç³»ç»Ÿ | Windows 10 |
| Python | 3.8.10 |
| é¡¹ç›®ç‰ˆæœ¬ | v1.0.0 |

**å¤ç°æ­¥éª¤**:
```python
# 1. åˆå§‹åŒ–æ“ä½œæ—¥å¿—è®°å½•å™¨
logger = OperationLogger("test.db")

# 2. è®°å½•å¤šä¸ªæ“ä½œ
logger.log_operation("testuser", "operation_1", "success")
time.sleep(1)
logger.log_operation("testuser", "operation_2", "success")
time.sleep(1)
logger.log_operation("testuser", "operation_3", "success")

# 3. æŸ¥è¯¢æ—¥å¿—
logs, _ = logger.get_operation_logs(username="testuser")
for i, log in enumerate(logs):
    print(f"{i}: {log['operation_type']}")
```

**é¢„æœŸç»“æœ**:
æ ¹æ®æ–‡æ¡£æè¿°ï¼Œåº”è¯¥è¾“å‡º:
```
0: operation_1
1: operation_2
2: operation_3
```

**å®é™…ç»“æœ**:
å®é™…è¾“å‡ºï¼ˆæ—¶é—´å€’åºï¼‰:
```
0: operation_3
1: operation_2
2: operation_1
```

**é™„åŠ ä¿¡æ¯**:
- **å½±å“èŒƒå›´**: æ‰€æœ‰ä½¿ç”¨ `get_operation_logs` çš„æµ‹è¯•å’ŒåŠŸèƒ½
- **ç›¸å…³ä»£ç **: [é›†æˆæµ‹è¯•æ–‡ä»¶/test_integration.py#L234](file:///f:/waterremove/é›†æˆæµ‹è¯•æ–‡ä»¶/test_integration.py#L234)
- **ç›¸å…³ä»£ç **: [src/core/operation_logger.py#L145](file:///f:/waterremove/src/core/operation_logger.py#L145)

**ä¿®å¤æ–¹æ¡ˆ**:
æœ‰ä¸¤ç§ä¿®å¤æ–¹æ¡ˆï¼š

**æ–¹æ¡ˆ1**: ä¿®æ”¹æµ‹è¯•ä»£ç ï¼Œé€‚åº”å®é™…çš„æ—¥å¿—é¡ºåºï¼ˆæ¨èï¼‰
```python
# ä¿®æ”¹å‰
assert logs[0]["operation_type"] == "operation_1"
assert logs[1]["operation_type"] == "operation_2"
assert logs[2]["operation_type"] == "operation_3"

# ä¿®æ”¹åï¼ˆæ—¥å¿—æŒ‰æ—¶é—´å€’åºæ’åˆ—ï¼Œæœ€æ–°çš„åœ¨å‰ï¼‰
assert logs[0]["operation_type"] == "operation_3"
assert logs[1]["operation_type"] == "operation_2"
assert logs[2]["operation_type"] == "operation_1"
```

**æ–¹æ¡ˆ2**: ä¿®æ”¹ `get_operation_logs` æ–¹æ³•ï¼ŒæŒ‰æ—¶é—´å‡åºè¿”å›
```python
# ä¿®æ”¹å‰
cursor.execute('''
    SELECT * FROM operation_logs
    WHERE username = ?
    ORDER BY timestamp DESC
''', (username,))

# ä¿®æ”¹å
cursor.execute('''
    SELECT * FROM operation_logs
    WHERE username = ?
    ORDER BY timestamp ASC
''', (username,))
```

**ä¼˜å…ˆçº§**: Low
**æ¨¡å—**: OperationLogger
**çŠ¶æ€**: âœ… å·²ä¿®å¤ï¼ˆé‡‡ç”¨æ–¹æ¡ˆ1ï¼‰

---

## æœ€ä½³å®è·µ

### 1. æ ‡é¢˜è§„èŒƒ

**å¥½çš„æ ‡é¢˜**:
- âœ… [BUG] æ°´å°æ£€æµ‹å™¨æ— æ³•å¤„ç†é«˜åˆ†è¾¨ç‡è§†é¢‘
- âœ… [PERFORMANCE] è§†é¢‘å¤„ç†é€Ÿåº¦æ…¢ï¼Œéœ€è¦ä¼˜åŒ–
- âœ… [SECURITY] ç”¨æˆ·å¯†ç æœªåŠ å¯†å­˜å‚¨

**ä¸å¥½çš„æ ‡é¢˜**:
- âŒ æœ‰ä¸ªbug
- âŒ å¸®æˆ‘çœ‹çœ‹è¿™ä¸ª
- âŒ é—®é¢˜

### 2. å¤ç°æ­¥éª¤

**å¥½çš„å¤ç°æ­¥éª¤**:
```python
# 1. å‡†å¤‡æµ‹è¯•æ•°æ®
test_video = create_test_video(duration=10, resolution="4K")

# 2. åˆå§‹åŒ–æ£€æµ‹å™¨
detector = WatermarkDetector()

# 3. æ‰§è¡Œæ£€æµ‹
result = detector.detect_watermark(test_video)

# 4. éªŒè¯ç»“æœ
assert result is not None  # å¤±è´¥ç‚¹
```

**ä¸å¥½çš„å¤ç°æ­¥éª¤**:
- è¿è¡Œç¨‹åº
- ç‚¹å‡»æŒ‰é’®
- æŠ¥é”™äº†

### 3. é¢„æœŸç»“æœ vs å®é™…ç»“æœ

**å¥½çš„æè¿°**:
```
é¢„æœŸç»“æœ: æ£€æµ‹å™¨åº”è¯¥è¿”å›æ°´å°ä½ç½®åæ ‡ (x, y, width, height)

å®é™…ç»“æœ: æ£€æµ‹å™¨è¿”å› Noneï¼Œæ§åˆ¶å°è¾“å‡ºé”™è¯¯:
ERROR:watermark_detector:è§†é¢‘åˆ†è¾¨ç‡è¶…å‡ºæ”¯æŒèŒƒå›´: 3840x2160
```

**ä¸å¥½çš„æè¿°**:
```
é¢„æœŸç»“æœ: åº”è¯¥èƒ½å·¥ä½œ
å®é™…ç»“æœ: ä¸å·¥ä½œ
```

### 4. é™„åŠ ä¿¡æ¯

**åº”è¯¥åŒ…å«çš„ä¿¡æ¯**:
- âœ… å®Œæ•´çš„é”™è¯¯å †æ ˆ
- âœ… ç›¸å…³ä»£ç ç‰‡æ®µ
- âœ… æ—¥å¿—æ–‡ä»¶
- âœ… æˆªå›¾ï¼ˆå¦‚æœæ˜¯UIé—®é¢˜ï¼‰
- âœ… ç¯å¢ƒä¿¡æ¯

**ä¸åº”è¯¥åŒ…å«çš„ä¿¡æ¯**:
- âŒ æ•æ„Ÿä¿¡æ¯ï¼ˆå¯†ç ã€APIå¯†é’¥ï¼‰
- âŒ ä¸é—®é¢˜æ— å…³çš„ä»£ç 
- âŒ è¿‡å¤§çš„æ–‡ä»¶ï¼ˆè¶…è¿‡10MBï¼‰

### 5. æ ‡ç­¾ä½¿ç”¨

**å¸¸ç”¨æ ‡ç­¾**:
- `bug`: åŠŸèƒ½ç¼ºé™·
- `enhancement`: åŠŸèƒ½å¢å¼ºå»ºè®®
- `documentation`: æ–‡æ¡£é—®é¢˜
- `performance`: æ€§èƒ½é—®é¢˜
- `security`: å®‰å…¨é—®é¢˜
- `good first issue`: é€‚åˆæ–°æ‰‹çš„é—®é¢˜
- `help wanted`: éœ€è¦å¸®åŠ©

**ä¼˜å…ˆçº§æ ‡ç­¾**:
- `critical`: ä¸¥é‡
- `high`: é«˜
- `medium`: ä¸­
- `low`: ä½

### 6. è·Ÿè¸ªå’Œæ›´æ–°

**æäº¤åçš„æ“ä½œ**:
1. å®šæœŸæ£€æŸ¥ Issue çŠ¶æ€
2. å›å¤å¼€å‘è€…çš„è¯¢é—®
3. éªŒè¯ä¿®å¤åçš„ç‰ˆæœ¬
4. åŠæ—¶å…³é—­å·²è§£å†³çš„ Issue

**è¯„è®ºæ¨¡æ¿**:
```markdown
## éªŒè¯ç»“æœ

**æµ‹è¯•ç¯å¢ƒ**:
- æ“ä½œç³»ç»Ÿ: Windows 10
- ç‰ˆæœ¬: v1.0.1

**æµ‹è¯•æ­¥éª¤**:
[å¤ç°æ­¥éª¤]

**æµ‹è¯•ç»“æœ**:
âœ… é—®é¢˜å·²è§£å†³ï¼ŒåŠŸèƒ½æ­£å¸¸å·¥ä½œ

**å¤‡æ³¨**:
[å…¶ä»–è§‚å¯Ÿæˆ–å»ºè®®]
```

---

## é™„å½•

### A. å¿«é€Ÿå‚è€ƒ

| é—®é¢˜ç±»å‹ | ä¼˜å…ˆçº§ | å“åº”æ—¶é—´ |
|---------|--------|---------|
| Critical | æœ€é«˜ | 24å°æ—¶å†… |
| High | é«˜ | 3å¤©å†… |
| Medium | ä¸­ | 1å‘¨å†… |
| Low | ä½ | 2å‘¨å†… |

### B. å¸¸ç”¨å‘½ä»¤

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/username/repository.git

# åˆ›å»ºæ–°åˆ†æ”¯
git checkout -b fix/issue-123

# æäº¤ä¿®å¤
git add .
git commit -m "Fix #123: ä¿®å¤sanitize_inputç§»é™¤ä¸‹åˆ’çº¿çš„é—®é¢˜"

# æ¨é€åˆ†æ”¯
git push origin fix/issue-123

# åˆ›å»º Pull Request
# åœ¨ GitHub ä¸Šåˆ›å»º PRï¼Œå…³è”åˆ° Issue #123
```

### C. è”ç³»æ–¹å¼

- **é¡¹ç›®ç»´æŠ¤è€…**: [ç»´æŠ¤è€…å§“å]
- **é‚®ä»¶**: [ç»´æŠ¤è€…é‚®ç®±]
- **è®¨è®ºåŒº**: [GitHub Discussions é“¾æ¥]

---

## æ›´æ–°æ—¥å¿—

| æ—¥æœŸ | ç‰ˆæœ¬ | æ›´æ–°å†…å®¹ |
|------|------|---------|
| 2024-01-15 | 1.0.0 | åˆå§‹ç‰ˆæœ¬ï¼Œåˆ›å»ºç¼ºé™·æäº¤æŒ‡å— |
| 2024-01-16 | 1.1.0 | æ·»åŠ å®é™…ç¼ºé™·æ¡ˆä¾‹å’Œæœ€ä½³å®è·µ |

---

**æ–‡æ¡£ç‰ˆæœ¬**: 1.1.0  
**æœ€åæ›´æ–°**: 2024-01-16  
**ç»´æŠ¤è€…**: é¡¹ç›®å¼€å‘å›¢é˜Ÿ
